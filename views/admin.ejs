<h1 class="mt-4">Admin Dashboard</h1>
<p class="lead mb-3">Welcome <%= user.name %></p>

<h3 class="mt-4">Active Sessions</h3>

<% if (Object.keys(sessions).length === 0) { %>
  <p>No active sessions found.</p>
<% } else { %>
  <table class="table table-bordered mt-3">
    <thead>
      <tr>
        <th>Session ID</th>
        <th>User ID</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <% Object.keys(sessions).forEach((sessionId) => { %>
        <% const session = sessions[sessionId]; %>
        <% const userId = session.passport && session.passport.user ? session.passport.user : 'N/A'; %>
        <tr>
          <td><%= sessionId %></td>
          <td><%= userId %></td>
          <td>
            <form action="/admin/revoke/<%= sessionId %>" method="POST" style="display: inline;">
              <button type="submit" class="btn btn-danger btn-sm">Revoke Session</button>
            </form>
          </td>
        </tr>
      <% }); %>
    </tbody>
  </table>
<% } %>

<a href="/dashboard" class="btn btn-secondary mt-3">Back to Dashboard</a>
<a href="/auth/logout" class="btn btn-secondary mt-3">Logout</a>

